!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.justext=e():t.justext=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(1),o=n(s),l=r(2),h=n(l),c=r(4),p=n(c),u=.2,f=70,d=200,g=.3,y=.32,m=!1,_=200,v=function(){function t(){a(this,t)}return i(t,[{key:"jusText",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],r=arguments.length<=2||void 0===arguments[2]?f:arguments[2],n=arguments.length<=3||void 0===arguments[3]?d:arguments[3],a=arguments.length<=4||void 0===arguments[4]?g:arguments[4],i=arguments.length<=5||void 0===arguments[5]?y:arguments[5],s=arguments.length<=6||void 0===arguments[6]?u:arguments[6],o=arguments.length<=7||void 0===arguments[7]?_:arguments[7],l=arguments.length<=8||void 0===arguments[8]?m:arguments[8],c=this.preprocessor(t),p=this.htmlToDom(c),v=h["default"].makeParagraphs(p);return v=this.classifyParagraphs(v,e,r,n,a,i,s,l),v=this.reviseParagraphClassification(v,o)}},{key:"classifyParagraphs",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[p["default"]]:arguments[0],e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],r=arguments.length<=2||void 0===arguments[2]?f:arguments[2],n=arguments.length<=3||void 0===arguments[3]?d:arguments[3],a=arguments.length<=4||void 0===arguments[4]?g:arguments[4],i=arguments.length<=5||void 0===arguments[5]?y:arguments[5],s=arguments.length<=6||void 0===arguments[6]?u:arguments[6],o=(arguments.length<=7||void 0===arguments[7]?_:arguments[7],arguments.length<=8||void 0===arguments[8]?m:arguments[8]),l=String.prototype.search,h=String.prototype.indexOf,c=String.prototype.toLowerCase,v=e.map(function(t){return c.call(t)}),w=[],b=!0,T=!1,k=void 0;try{for(var S,x=t[Symbol.iterator]();!(b=(S=x.next()).done);b=!0){var E=S.value,C=E.text(),N=E.len(),B=E.stopwordDesity(v),D=E.linksDesity();E.heading=!o&&E.isHeading(),Number(D)>Number(s)?E.cfClass="bad":h.call(C,"Â©")!==-1||h.call(this,"&copy")!==-1?E.cfClass="bad":l.call(E.domPath,"^select|.select")!==-1?E.cfClass="bad":N<r?E.charsCountInLinks>0?E.cfClass="bad":E.cfClass="short":Number(B)>=Number(i)?Number(N)>Number(n)?E.cfClass="good":E.cfClass="neargood":Number(B)>=Number(a)?E.cfClass="neargood":E.cfClass="bad",w.push(E)}}catch(P){T=!0,k=P}finally{try{!b&&x["return"]&&x["return"]()}finally{if(T)throw k}}return w}},{key:"reviseParagraphClassification",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[p["default"]]:arguments[0],e=arguments.length<=1||void 0===arguments[1]?_:arguments[1];return console.log(e),t}},{key:"htmlToDom",value:function(t){var e=new o["default"].DefaultHandler(function(t,e){t?console.warn(t):console.log("dom",JSON.stringify(e,null,2))}),r=new o["default"].Parser(e);return r.parseComplete(t),r.dom}},{key:"preprocessor",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{html:!1,head:!1,script:!0,iframe:!0,style:!0,comment:!0}:arguments[1],r=String.prototype.replace,n=t;return e.script&&(n=r.call(n,/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi," ")),e.iframe&&(n=r.call(n,/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi," ")),e.head&&(n=r.call(n,/<head\b[^<]*(?:(?!<\/head>)<[^<]*)*<\/head>/gi," ")),e.style&&(n=r.call(n,/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi," ")),e.comment&&(n=r.call(n,/<!--[^>]*-->/gi," ")),e.html&&(n=r.call(n,/<\/?[a-z]+(?:\s[a-z0-9]+(\s*=\s*('.*?'|".*?"|\d+))?)*[\s\/]*>/gm," ")),n=r.call(n,/\s{2,}/g,""),n=r.call(n,/>\s</g,"><"),n=r.call(n,/^\s+/,""),n=r.call(n,/\s+$/,"")}}]),t}();e["default"]=v},function(t,e,r){(function(r,n){!function(){function a(){return"object"==typeof e&&"object"==typeof t&&"string"==typeof r&&"string"==typeof n}function i(t,e){this._options=e?e:{},void 0==this._options.includeLocation&&(this._options.includeLocation=!1),this.validateHandler(t),this._handler=t,this.reset()}function s(t){s.super_.call(this,t,{ignoreWhitespace:!0,verbose:!1,enforceEmptyTags:!1})}function o(t,e){this.reset(),this._options=e?e:{},void 0==this._options.ignoreWhitespace&&(this._options.ignoreWhitespace=!1),void 0==this._options.verbose&&(this._options.verbose=!0),void 0==this._options.enforceEmptyTags&&(this._options.enforceEmptyTags=!0),"function"==typeof t&&(this._callback=t)}function l(t,e){var r=function(){};r.prototype=e.prototype,t.super_=e,t.prototype=new r,t.prototype.constructor=t}if(!a()){if(this.Tautologistics){if(this.Tautologistics.NodeHtmlParser)return}else this.Tautologistics={};this.Tautologistics.NodeHtmlParser={},e=this.Tautologistics.NodeHtmlParser}var h={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag"};i._reTrim=/(^\s+|\s+$)/g,i._reTrimComment=/(^\!--|--$)/g,i._reWhitespace=/\s/g,i._reTagName=/^\s*(\/?)\s*([^\s\/]+)/,i._reAttrib=/([^=<>\"\'\s]+)\s*=\s*"([^"]*)"|([^=<>\"\'\s]+)\s*=\s*'([^']*)'|([^=<>\"\'\s]+)\s*=\s*([^'"\s]+)|([^=<>\"\'\s\/]+)/g,i._reTags=/[\<\>]/g,i.prototype.parseComplete=function(t){this.reset(),this.parseChunk(t),this.done()},i.prototype.parseChunk=function(t){this._done&&this.handleError(new Error("Attempted to parse chunk after parsing already done")),this._buffer+=t,this.parseTags()},i.prototype.done=function(){if(!this._done){if(this._done=!0,this._buffer.length){var t=this._buffer;this._buffer="";var e={raw:t,data:this._parseState==h.Text?t:t.replace(i._reTrim,""),type:this._parseState};this._parseState!=h.Tag&&this._parseState!=h.Script&&this._parseState!=h.Style||(e.name=this.parseTagName(e.data)),this.parseAttribs(e),this._elements.push(e)}this.writeHandler(),this._handler.done()}},i.prototype.reset=function(){this._buffer="",this._done=!1,this._elements=[],this._elementsCurrent=0,this._current=0,this._next=0,this._location={row:0,col:0,charOffset:0,inBuffer:0},this._parseState=h.Text,this._prevTagSep="",this._tagStack=[],this._handler.reset()},i.prototype._options=null,i.prototype._handler=null,i.prototype._buffer=null,i.prototype._done=!1,i.prototype._elements=null,i.prototype._elementsCurrent=0,i.prototype._current=0,i.prototype._next=0,i.prototype._location=null,i.prototype._parseState=h.Text,i.prototype._prevTagSep="",i.prototype._tagStack=null,i.prototype.parseTagAttribs=function(t){for(var e=t.length,r=0;r<e;){var n=t[r++];n.type!=h.Tag&&n.type!=h.Script&&n.type!=h.style||this.parseAttribs(n)}return t},i.prototype.parseAttribs=function(t){if(t.type==h.Script||t.type==h.Style||t.type==h.Tag){var e=t.data.split(i._reWhitespace,1)[0],r=t.data.substring(e.length);if(!(r.length<1)){var n;for(i._reAttrib.lastIndex=0;n=i._reAttrib.exec(r);)void 0==t.attribs&&(t.attribs={}),"string"==typeof n[1]&&n[1].length?t.attribs[n[1]]=n[2]:"string"==typeof n[3]&&n[3].length?t.attribs[n[3].toString()]=n[4].toString():"string"==typeof n[5]&&n[5].length?t.attribs[n[5]]=n[6]:"string"==typeof n[7]&&n[7].length&&(t.attribs[n[7]]=n[7])}}},i.prototype.parseTagName=function(t){if(null==t||""==t)return"";var e=i._reTagName.exec(t);return e?(e[1]?"/":"")+e[2]:""},i.prototype.parseTags=function(){for(var t=this._buffer.length-1;i._reTags.test(this._buffer);){this._next=i._reTags.lastIndex-1;var e=this._buffer.charAt(this._next),r=this._buffer.substring(this._current,this._next),n={raw:r,data:this._parseState==h.Text?r:r.replace(i._reTrim,""),type:this._parseState},a=this.parseTagName(n.data);if(this._tagStack.length)if(this._tagStack[this._tagStack.length-1]==h.Script){if("/script"==a.toLowerCase())this._tagStack.pop();else if(0!=n.raw.indexOf("!--")&&(n.type=h.Text,this._elements.length&&this._elements[this._elements.length-1].type==h.Text)){var s=this._elements[this._elements.length-1];s.raw=s.data=s.raw+this._prevTagSep+n.raw,n.raw=n.data=""}}else if(this._tagStack[this._tagStack.length-1]==h.Style){if("/style"==a.toLowerCase())this._tagStack.pop();else if(0!=n.raw.indexOf("!--"))if(n.type=h.Text,this._elements.length&&this._elements[this._elements.length-1].type==h.Text){var s=this._elements[this._elements.length-1];""!=n.raw?(s.raw=s.data=s.raw+this._prevTagSep+n.raw,n.raw=n.data=""):s.raw=s.data=s.raw+this._prevTagSep}else""!=n.raw&&(n.raw=n.data=n.raw)}else if(this._tagStack[this._tagStack.length-1]==h.Comment){var o=n.raw.length;if("-"==n.raw.charAt(o-2)&&"-"==n.raw.charAt(o-1)&&">"==e)if(this._tagStack.pop(),this._elements.length&&this._elements[this._elements.length-1].type==h.Comment){var s=this._elements[this._elements.length-1];s.raw=s.data=(s.raw+n.raw).replace(i._reTrimComment,""),n.raw=n.data="",n.type=h.Text}else n.type=h.Comment;else if(n.type=h.Comment,this._elements.length&&this._elements[this._elements.length-1].type==h.Comment){var s=this._elements[this._elements.length-1];s.raw=s.data=s.raw+n.raw+e,n.raw=n.data="",n.type=h.Text}else n.raw=n.data=n.raw+e}if(n.type==h.Tag){n.name=a;var l=a.toLowerCase();if(0==n.raw.indexOf("!--")){n.type=h.Comment,delete n.name;var o=n.raw.length;"-"==n.raw.charAt(o-1)&&"-"==n.raw.charAt(o-2)&&">"==e?n.raw=n.data=n.raw.replace(i._reTrimComment,""):(n.raw+=e,this._tagStack.push(h.Comment))}else 0==n.raw.indexOf("!")||0==n.raw.indexOf("?")?n.type=h.Directive:"script"==l?(n.type=h.Script,"/"!=n.data.charAt(n.data.length-1)&&this._tagStack.push(h.Script)):"/script"==l?n.type=h.Script:"style"==l?(n.type=h.Style,"/"!=n.data.charAt(n.data.length-1)&&this._tagStack.push(h.Style)):"/style"==l&&(n.type=h.Style);n.name&&"/"==n.name.charAt(0)&&(n.data=n.name)}""==n.raw&&n.type==h.Text||(this._options.includeLocation&&!n.location&&(n.location=this.getLocation(n.type==h.Tag)),this.parseAttribs(n),this._elements.push(n),n.type!=h.Text&&n.type!=h.Comment&&n.type!=h.Directive&&"/"==n.data.charAt(n.data.length-1)&&this._elements.push({raw:"/"+n.name,data:"/"+n.name,name:"/"+n.name,type:n.type})),this._parseState="<"==e?h.Tag:h.Text,this._current=this._next+1,this._prevTagSep=e}this._options.includeLocation&&(this.getLocation(),this._location.row+=this._location.inBuffer,this._location.inBuffer=0,this._location.charOffset=0),this._buffer=this._current<=t?this._buffer.substring(this._current):"",this._current=0,this.writeHandler()},i.prototype.getLocation=function(t){for(var e,r=this._location,n=this._current-(t?1:0),a=t&&0==r.charOffset&&0==this._current;r.charOffset<n;r.charOffset++)e=this._buffer.charAt(r.charOffset),"\n"==e?(r.inBuffer++,r.col=0):"\r"!=e&&r.col++;return{line:r.row+r.inBuffer+1,col:r.col+(a?0:1)}},i.prototype.validateHandler=function(t){if("object"!=typeof t)throw new Error("Handler is not an object");if("function"!=typeof t.reset)throw new Error("Handler method 'reset' is invalid");if("function"!=typeof t.done)throw new Error("Handler method 'done' is invalid");if("function"!=typeof t.writeTag)throw new Error("Handler method 'writeTag' is invalid");if("function"!=typeof t.writeText)throw new Error("Handler method 'writeText' is invalid");if("function"!=typeof t.writeComment)throw new Error("Handler method 'writeComment' is invalid");if("function"!=typeof t.writeDirective)throw new Error("Handler method 'writeDirective' is invalid")},i.prototype.writeHandler=function(t){if(t=!!t,!this._tagStack.length||t)for(;this._elements.length;){var e=this._elements.shift();switch(e.type){case h.Comment:this._handler.writeComment(e);break;case h.Directive:this._handler.writeDirective(e);break;case h.Text:this._handler.writeText(e);break;default:this._handler.writeTag(e)}}},i.prototype.handleError=function(t){if("function"!=typeof this._handler.error)throw t;this._handler.error(t)},l(s,o),s.prototype.done=function(){var t,e={},r=c.getElementsByTagName(function(t){return"rss"==t||"feed"==t},this.dom,!1);if(r.length&&(t=r[0]),t){if("rss"==t.name){e.type="rss",t=t.children[0],e.id="";try{e.title=c.getElementsByTagName("title",t.children,!1)[0].children[0].data}catch(n){}try{e.link=c.getElementsByTagName("link",t.children,!1)[0].children[0].data}catch(n){}try{e.description=c.getElementsByTagName("description",t.children,!1)[0].children[0].data}catch(n){}try{e.updated=new Date(c.getElementsByTagName("lastBuildDate",t.children,!1)[0].children[0].data)}catch(n){}try{e.author=c.getElementsByTagName("managingEditor",t.children,!1)[0].children[0].data}catch(n){}e.items=[],c.getElementsByTagName("item",t.children).forEach(function(t,r,n){var a={};try{a.id=c.getElementsByTagName("guid",t.children,!1)[0].children[0].data}catch(i){}try{a.title=c.getElementsByTagName("title",t.children,!1)[0].children[0].data}catch(i){}try{a.link=c.getElementsByTagName("link",t.children,!1)[0].children[0].data}catch(i){}try{a.description=c.getElementsByTagName("description",t.children,!1)[0].children[0].data}catch(i){}try{a.pubDate=new Date(c.getElementsByTagName("pubDate",t.children,!1)[0].children[0].data)}catch(i){}e.items.push(a)})}else{e.type="atom";try{e.id=c.getElementsByTagName("id",t.children,!1)[0].children[0].data}catch(n){}try{e.title=c.getElementsByTagName("title",t.children,!1)[0].children[0].data}catch(n){}try{e.link=c.getElementsByTagName("link",t.children,!1)[0].attribs.href}catch(n){}try{e.description=c.getElementsByTagName("subtitle",t.children,!1)[0].children[0].data}catch(n){}try{e.updated=new Date(c.getElementsByTagName("updated",t.children,!1)[0].children[0].data)}catch(n){}try{e.author=c.getElementsByTagName("email",t.children,!0)[0].children[0].data}catch(n){}e.items=[],c.getElementsByTagName("entry",t.children).forEach(function(t,r,n){var a={};try{a.id=c.getElementsByTagName("id",t.children,!1)[0].children[0].data}catch(i){}try{a.title=c.getElementsByTagName("title",t.children,!1)[0].children[0].data}catch(i){}try{a.link=c.getElementsByTagName("link",t.children,!1)[0].attribs.href}catch(i){}try{a.description=c.getElementsByTagName("summary",t.children,!1)[0].children[0].data}catch(i){}try{a.pubDate=new Date(c.getElementsByTagName("updated",t.children,!1)[0].children[0].data)}catch(i){}e.items.push(a)})}this.dom=e}s.super_.prototype.done.call(this)},o._emptyTags={area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,isindex:1,link:1,meta:1,param:1,embed:1},o.reWhitespace=/^\s*$/,o.prototype.dom=null,o.prototype.reset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._tagStack.last=function(){return this.length?this[this.length-1]:null}},o.prototype.done=function(){this._done=!0,this.handleCallback(null)},o.prototype.writeTag=function(t){this.handleElement(t)},o.prototype.writeText=function(t){this._options.ignoreWhitespace&&o.reWhitespace.test(t.data)||this.handleElement(t)},o.prototype.writeComment=function(t){this.handleElement(t)},o.prototype.writeDirective=function(t){this.handleElement(t)},o.prototype.error=function(t){this.handleCallback(t)},o.prototype._options=null,o.prototype._callback=null,o.prototype._done=!1,o.prototype._tagStack=null,o.prototype.handleCallback=function(t){if("function"==typeof this._callback)this._callback(t,this.dom);else if(t)throw t},o.prototype.isEmptyTag=function(t){var e=t.name.toLowerCase();return"/"==e.charAt(0)&&(e=e.substring(1)),this._options.enforceEmptyTags&&!!o._emptyTags[e]},o.prototype.handleElement=function(t){if(this._done&&this.handleCallback(new Error("Writing to the handler after done() called is not allowed without a reset()")),this._options.verbose||(delete t.raw,"tag"!=t.type&&"script"!=t.type&&"style"!=t.type||delete t.data),this._tagStack.last())if(t.type!=h.Text&&t.type!=h.Comment&&t.type!=h.Directive)if("/"==t.name.charAt(0)){var e=t.name.substring(1);if(!this.isEmptyTag(t)){for(var r=this._tagStack.length-1;r>-1&&this._tagStack[r--].name!=e;);if(r>-1||this._tagStack[0].name==e)for(;r<this._tagStack.length-1;)this._tagStack.pop()}}else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(t),this.isEmptyTag(t)||this._tagStack.push(t);else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(t);else t.type!=h.Text&&t.type!=h.Comment&&t.type!=h.Directive?"/"!=t.name.charAt(0)&&(this.dom.push(t),this.isEmptyTag(t)||this._tagStack.push(t)):this.dom.push(t)};var c={testElement:function(t,e){if(!e)return!1;for(var r in t)if("tag_name"==r){if("tag"!=e.type&&"script"!=e.type&&"style"!=e.type)return!1;if(!t.tag_name(e.name))return!1}else if("tag_type"==r){if(!t.tag_type(e.type))return!1}else if("tag_contains"==r){if("text"!=e.type&&"comment"!=e.type&&"directive"!=e.type)return!1;if(!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[r](e.attribs[r]))return!1;return!0},getElements:function(t,e,r,n){function a(t){return function(e){return e==t}}if(r=void 0===r||null===r||!!r,n=isNaN(parseInt(n))?-1:parseInt(n),!e)return[];var i,s=[];for(var o in t)"function"!=typeof t[o]&&(t[o]=a(t[o]));if(c.testElement(t,e)&&s.push(e),n>=0&&s.length>=n)return s;if(r&&e.children)i=e.children;else{if(!(e instanceof Array))return s;i=e}for(var l=0;l<i.length&&(s=s.concat(c.getElements(t,i[l],r,n)),!(n>=0&&s.length>=n));l++);return s},getElementById:function(t,e,r){var n=c.getElements({id:t},e,r,1);return n.length?n[0]:null},getElementsByTagName:function(t,e,r,n){return c.getElements({tag_name:t},e,r,n)},getElementsByTagType:function(t,e,r,n){return c.getElements({tag_type:t},e,r,n)}};e.Parser=i,e.DefaultHandler=o,e.RssHandler=s,e.ElementType=h,e.DomUtils=c}()}).call(e,"/index.js","/")},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(3),o=n(s),l=function(){function t(){a(this,t),this.path=new o["default"],this.paragraphs=[],this.paragraph="",this.link=!1,this.br=this,this.startNewParagraph()}return i(t,[{key:"startNewParagraph",value:function(){}},{key:"makeParagraphs",value:function(t){return console.log("root",JSON.stringify(t,null,2)),this.paragraphs}}]),t}();e["default"]=l},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(){function t(){r(this,t),this.elements=[]}return n(t,[{key:"dom",value:function(){var t=[],e=!0,r=!1,n=void 0;try{for(var a,i=this.elements[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var s=a.value;t.push(s[0])}}catch(o){r=!0,n=o}finally{try{!e&&i["return"]&&i["return"]()}finally{if(r)throw n}}return t.join(".")}},{key:"xpath",value:function(){var t="";if(this.elements.length){var e=!0,r=!1,n=void 0;try{for(var a,i=this.elements[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var s=a.value;t+="/"+s[0]+"["+s[1]+"]"}}catch(o){r=!0,n=o}finally{try{!e&&i["return"]&&i["return"]()}finally{if(r)throw n}}}else t="/";return t}},{key:"append",value:function(t){var e=this.getChildren(),r=e[t]+1||1;return e[t]=r,this.elements.push([t,r,{}]),this}},{key:"getChildren",value:function(){return this.elements.length?this.elements[this.elements.length-1][2]:{}}},{key:"pop",value:function(){return this.elements.pop(),this}}]),t}();e["default"]=a},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(3),o=n(s),l=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?o["default"]:arguments[0];a(this,t),this.domPath=e.dom(),this.xpath=e.xpath(),this.textNodes=[],this.charsCountInLinks=0,this.tagsCount=0,this.classType=""}return i(t,[{key:"isHeading",value:function(){var t=/\bh\d\b/;return this.domPath.search(t)}},{key:"isBoilerplate",value:function(){return"good"!==this.classType}},{key:"text",value:function(){var t="";return t=this.textNodes.join(""),t=t.replace(/\s{2,}/g," "),t=t.replace(/^\s+/,""),t=t.replace(/\s+$/,"")}},{key:"len",value:function(){return this.text().length}},{key:"wordsCount",value:function(){return this.text().split(" ").length}},{key:"containsText",value:function(){return this.textNodes.length>0}},{key:"appendText",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=String.prototype.replace,r=e.call(t,/\s{2,}/g," ");return this.textNodes.push(r),r}},{key:"stopwordsCount",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=0,r=!0,n=!1,a=void 0;try{for(var i,s=this.text().split(" ")[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;t.indexOf(o.toLowerCase())!==-1&&e++}}catch(l){n=!0,a=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(n)throw a}}return e}},{key:"stopwordDesity",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=this.wordsCount();return 0===e?0:this.stopwordsCount(t)/e}},{key:"linksDesity",value:function(){var t=this.len();return 0===t?0:this.charsCountInLinks/t}}]),t}();e["default"]=l}])});
//# sourceMappingURL=justext.min.js.map
